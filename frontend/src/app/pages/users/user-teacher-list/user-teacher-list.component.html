<h1 class = "titulo"> Usuarios registrados</h1>

<app-user-options (exportPdfEvent)="generatePdf()"></app-user-options>

<div class="table-responsive-sm container-xl" style="margin-top: 20px;">
  <table class="table table-striped-columns table-sm">
    <thead>
      <tr>
        <th>Rut</th>
        <th>Nombre</th>
        <th>Contactos</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (teacher of filteredTeacher; track $index) {
      <tr>
        <td>{{teacher.rut}}</td>
        <td>{{teacher.name}}</td>
        <td> {{teacher.mail}} <br> @if (teacher.phoneNumber != 0 && teacher.phoneNumber) { +56 {{teacher.phoneNumber}} }
        </td>
        <td>
          <div class="d-flex gap-2 justify-content-center">
            <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal"
              data-bs-target="#modalEditUser" (click)="editUser(teacher.id)">
              <i class="bi bi-pencil-square"> editar</i>
            </button>
            <button type="button" class="btn btn-outline-danger btn-sm" (click)="deleteUser(teacher.id)">
              <i class="bi bi-x-square"> eliminar</i>
            </button>
          </div>
        </td>
      </tr>
      }
    </tbody>
  </table>
  <div class="d-flex justify-content-center">
    <ngb-pagination [collectionSize]="filteredTeacher.length" [(page)]="page" [pageSize]="pageSize" [maxSize]="5" [rotate]="true" [ellipses]="false" [boundaryLinks]="true" />
  </div>
</div>

<app-user-edit [user]="user"></app-user-edit>